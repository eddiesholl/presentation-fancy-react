<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Fancy React</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/custom.css">

		<link rel="stylesheet" href="css/theme/night.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Fancy React</h1>
					<h3>React Super Powers in Atom</h3>
					<p>Eddie Sholl <a href="https://twitter.com/eddiesholl">@eddiesholl</a></p>

					<aside class="notes">
						<ul>
							<li>Welcome everyone</li>
							<li>Thanks for having me, first time talking</li>
							<li>Useful and interesting</li>
						</ul>
					</aside>

				</section>

				<section>
					<p class="color-blue">atom.io/packages/fancy-react</p>
					<div class="flex-row">
						<div class="flex-column flex-end flex-g-1">
							<span>It might help you</span>
							<span>It might encourage you</span>
							<span>It might remind you</span>
						</div>
						<div style="width: 30px"></div>
						<div class="flex-column flex-start flex-g-1">
							<span class="fragment color-red">write react code</span>
							<span class="fragment color-green">to hack on something</span>
							<span class="fragment color-blue">that tools really matter</span>
						</div>
					</div>

					<aside class="notes">
						<ul>
							<li>Goals for the talk</li>
						</ul>
					</aside>
				</section>

				<section data-background-image="images/react-logo-og.png">
					<div class="flex-row flex-centered">
						<div class="fragment">
							<p>Modular</p>
							<p>Precise</p>
							<p>Flexible</p>
						</div>
						<div class="flex-pad-100"></div>
						<div class="fragment">
							<p>Files</p>
							<p>Verbose</p>
							<p>Standards</p>
						</div>
					</div>

					<aside class="notes">
						<ul>
							<li>The things that set you up for success in React</li>
							<li>Comparison with ember</li>
							<li>Learning curve hump, but then payoff</li>
							<li>Low defect rate from small controlled snippets</li>
						</ul>
					</aside>

				</section>

				<section>
					<div class="flex-row flex-centered">
						<video loop>
							<source data-src="images/atom-rocket.mp4" type="video/mp4" />
						</video>
						<div class="flex-pad-100"></div>
						<div>
							<h3>The Atom experience</h3>
							<p class="fragment">No context switching</p>
							<p class="fragment">Active and mature</p>
							<p class="fragment">Please come and hack me!</p>
						</div>
					</div>

					<aside class="notes">
						<ul>
							<li>What draws you to atom</li>
							<li>Most IDEs have a similar story</li>
							<li>You should be able to transfer</li>
						</ul>
					</aside>

				</section>

				<section data-background-image="images/melbjs-twitter.png">

					<aside class="notes">
						<ul>
							<li>Planted the seed / vision</li>
							<li>I want some of that</li>
						</ul>
					</aside>

				</section>

				<section data-background-image="images/zendesk-medium-white.svg">
					<aside class="notes">
						<ul>
							<li>Great opportunity, learning encouraged</li>
							<li>Massive learning curve</li>
							<li>ember and node.js, before that .NET</li>
							<li>React and rails, no real experience in either</li>
						</ul>
					</aside>
				</section>

				<section class="width-90pc" data-transition="zoom slide-out">
					<div class="flex-row flex-centered">
						<img class="primary-image" src="images/comp-per-day.png"></img>
					</div>
					<aside class="notes">
						<ul>
							<li>Actual git repo data</li>
							<li>Felt like a lot more</li>
						</ul>
					</aside>

				</section>
				<section class="width-90pc" data-transition="zoom">
					<div class="flex-row flex-centered">
						<img class="primary-image" src="images/test-per-day.png"></img>
					</div>

					<aside class="notes">
						<ul>
							<li>Current LOC ~4400 src, ~5700 test. 95% functions covered</li>
							<li>Use a type system? Later</li>
						</ul>
					</aside>

				</section>

				<section>
					<h1>That's great</h1>
					<h3>Now show me something awesome</h3>

					<aside class="notes">
						<ul>
							<li>Not that interesting</li>
							<li>So far, I have explained to you that I'm a modern web developer</li>
						</ul>
					</aside>

				</section>

				<section data-background-image="images/generate-component.gif" data-background-size="contain">
					<aside class="notes">
						<ul>
							<li>Allows you to finish your thoughts</li>
							<li>Expands to find the scope of the nearest starting JSX element</li>
							<li>Creates props from snippet</li>
						</ul>
					</aside>
				</section>

				<section data-background-image="images/generate-tests.gif" data-background-size="contain">
					<aside class="notes">
						<ul>
							<li>Once you're happy with your component...</li>
							<li>Fewer keystrokes</li>
						</ul>
					</aside>
				</section>

				<section data-background-image="images/switch-files.gif" data-background-size="contain">
					<aside class="notes">
						<ul>
							<li>Benefits from package structure settings</li>
							<li>Really added to muscle memory, miss it when it's not there</li>
							<li>Should become standalone</li>
						</ul>
					</aside>
				</section>

				<section>
					<h3>Actions</h3>
					<div class="flex-row">
						<div class="flex-column flex-g-1">
							<span>Generate component from JSX snippet</span>
							<span>Generate tests</span>
							<span>Switch between source <-> test file</span>
						</div>
					</div>
				</section>

				<section>
					<img class="img width-50pc" src="images/atom-generate-package.png"></img>
					<p>Commands</p>
					<p>Key bindings</p>
					<p>Menus</p>
					<p>Activation</p>

					<aside class="notes">
						<ul>
							<li>All generated in template with 'Generate package'</li>
							<li>Activation important for performance</li>
						</ul>
					</aside>

				</section>

				<section>
					<p>keymaps json</p>
					<pre><code>
{
  "atom-workspace atom-text-editor[data-grammar='source js jsx']": {
    "ctrl-alt-g": "fancy-react:generate",
    "ctrl-alt-t": "fancy-react:tests",
    "ctrl-alt-s": "fancy-react:switch"
  }
}
					</code></pre>
				</section>

				<section>
					<h3>Atom ecosystem</h3>
					<p>Package Manager - APM</p>
					<p>Chrome dev tools</p>
					<p>Jasmine test runner</p>
					<aside class="notes">
						<ul>
							<li>APM allows link, unlink and publish</li>
							<li>Jasmine seems great but in hindsight would just use something else</li>
						</ul>
					</aside>
				</section>

				<section data-background-image="images/package-settings.png" data-background-size="50%">
					<aside class="notes">
						<ul>
							<li>ParallelDirs</li>
							<li>SameDir</li>
							<li>SubDir</li>
						</ul>
					</aside>
				</section>

				<section>
					<h3>Other juicy stuff</h3>
					<p>Format using your eslintrc</p>
					<p>Generates tests for all exports</p>
					<p>Support for jest, enzyme, react props</p>
					<p>Local config in package.json</p>
					<aside class="notes">
						<ul>
							<li>eslint --fix</li>
							<li>Different generation based on export</li>
							<li></li>
						</ul>
					</aside>
				</section>

				<section>
					<h3>eslint WTF?!</h3>
					<p>eval, new Function(), json parsing</p>
					<pre><code>const { allowUnsafeNewFunction } = require("loophole")

    const e = this.engine
    let config
    allowUnsafeNewFunction(function() {
      config = e.getConfigForFile(filePath)
    })
    const linterResult = this.linter.verifyAndFix(
      text,
      config
    )</pre></code>
					<p>https://github.com/AtomLinter/linter-eslint/issues/253</p>

					<aside class="notes">
						<ul>
							<li>Atom doesn't allow unsafe-eval</li>
							<li>Dependency of dependency of dependency</li>
							<li>Patience wearing thin</li>
						</ul>
					</aside>

				</section>

				<section>
					<h1>We need to talk...</h1>
					<h3 class="fragment">about ASTs</h3>

					<aside class="notes">
						<ul>
							<li>Meat of the story</li>
							<li>Things that I have learned along the way</li>
							<li></li>
						</ul>
					</aside>

				</section>

				<section>
					<blockquote class="width-90pc">
Once upon a time, an unsuspecting Mozilla engineer created an API in Firefox that exposed the SpiderMonkey engine's JavaScript parser as a JavaScript API. Said engineer documented the format it produced, and this format caught on as a lingua franca for tools that manipulate JavaScript source code.
					</blockquote>
					<p>https://github.com/estree/estree</p>
					<aside class="notes">
						<ul>
							<li>Incredible how critical and widespread this now is</li>
							<li>babel, webpack, es6</li>
						</ul>
					</aside>
				</section>

				<section>
					<pre><code>interface Function <: Node {
    id: Identifier | null;
    params: [ Pattern ];
    body: FunctionBody;
}
// es5 variable
interface VariableDeclaration <: Declaration {
    type: "VariableDeclaration";
    declarations: [ VariableDeclarator ];
    kind: "var";
}
// es2015 variables
extend interface VariableDeclaration {
    kind: "var" | "let" | "const";
}</pre></code>

					<aside class="notes">
						<ul>
							<li>Plain old function</li>
							<li>es5</li>
							<li>es2015 extension</li>
						</ul>
					</aside>

				</section>

				<section>
					<pre><code>interface JSXElement <: Expression {
    type: "JSXElement";
    openingElement: JSXOpeningElement;
    children: [ JSXText | JSXExpressionContainer |
			JSXSpreadChild | JSXElement ];
    closingElement: JSXClosingElement | null;
}

interface JSXAttribute <: Node {
    type: "JSXAttribute";
    name: JSXIdentifier | JSXNamespacedName;
    value: Literal | JSXExpressionContainer |
			JSXElement | null;
}</pre></code>
				</section>

				<section>
					<h1>Peeling the Javascript Onion</h1>
				</section>

				<section>
					<div class="ring">
						Browser time!
						<div class="fragment ring">
							Your Babel/Webpack
							<div class="fragment ring">
								Your React
								<div class="fragment ring">
									Atom
									<div class="fragment ring">
										My babel and eslint
										<div class="fragment ring">
											Generated Javascript snippets
											<div class="fragment ring">
												My plugin code
												<div class="fragment ring fade-in">
													<span class="fragment highlight-red">
														<div class="fragment fade-out">
															ðŸ˜± ðŸ†˜ ðŸš’ TypeScript ðŸš’ ðŸ†˜ ðŸ˜±
														</div>
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<aside class="notes">
						<ul>
							<li>Tedious writing in raw es6</li>
							<li>Extra compiler layer? No thank you</li>
							<li>Nice use for tcomb</li>
						</ul>
					</aside>

				</section>

				<section>
					<img class="height-300px img" src="images/george-onion.gif"></img>
					<h3 class="fragment">Tastes like regular onion</h3>
				</section>

				<section>
					<div class="flex-row flex-spaced-out">
						<div class="flex-column flex-spaced-out">
							<p>ES6</p>
							<p>JSX</p>
							<p>Experimental features</p>
							<p class="fragment">TypeScript</p>
						</div>
						<img src="images/arrow-right.svg" class="medium-img"></img>
						<div class="flex-column">
							<p>AST</p>
						</div>
						<img src="images/arrow-right.svg" class="medium-img"></img>
						<div class="flex-column">
							<p>Browser output</p>
						</div>

						<aside class="notes">
							<ul>
								<li>Early proposals like object spreading</li>
								<li>JSX is just a set of ideas</li>
								<li>Estree is really the 'compiler target'</li>
							</ul>
						</aside>
				</section>

				<section>
					<div class="flex-row flex-spaced-out">
						<div class="flex-column flex-spaced-out">
							<p class="fragment">ClosureScript</p>
							<p class="fragment">Elm</p>
						</div>
						<img src="images/arrow-right.svg" class="medium-img"></img>
						<div class="flex-column">
							<p>AST</p>
						</div>
						<img src="images/arrow-right.svg" class="medium-img"></img>
						<div class="flex-column">
							<p>Browser output</p>
						</div>

						<aside class="notes">
							<ul>
								<li>Nothing contraversial</li>
								<li>What about straight to browser JS?</li>
								<li>AST allows interop ie elm webpack plugin</li>
							</ul>
						</aside>
				</section>

				<section data-background-image="images/IMG_5848.JPG" data-background-size="contain" data-transition="fade-in">
					<h3>Thank you</h3>
					<p>atom.io/packages/fancy-react</p>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				autoPlayMedia: true,
				controls: false,
				defaultTiming: 60,
				history: true,
				fragments: true,
				// fragments: false, // dev mode
				slideNumber: true, // dev mode
				width: "90%",
				height: "90%",
				margin: 0.1,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
